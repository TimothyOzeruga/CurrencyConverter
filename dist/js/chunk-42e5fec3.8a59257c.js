(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42e5fec3"],{"7e14":function(e,t,c){},8130:function(e,t,c){"use strict";c.r(t);var s=c("7a23");const i={class:"currencies__page container"},a={class:"currencies__menu"},r={class:"currencies__base_currency"},n={key:0,class:"currencies__wrap"},l={class:"w"},b=Object(s["f"])("h4",{class:"currencies__wrap_title"},"Favorite Currencies:",-1),u={class:"currencies__list fav_list"},_=["onClick"],f={class:"item__name"},o=["onClick"],O=Object(s["f"])("span",null,"Favorite",-1),j=[O],h=Object(s["f"])("h4",{class:"currencies__wrap_title"},"All Currencies:",-1),v={class:"currencies__list"},d=["onClick"],m={class:"item__name"},p=["onClick"],C=Object(s["f"])("span",null,"Favorite",-1),g=[C],k={class:"currencies__rates_list rates_list"},y={class:"rates_list__text"};function S(e,t,c,O,C,S){return Object(s["q"])(),Object(s["e"])("div",i,[Object(s["f"])("div",a,[Object(s["f"])("h3",r,"Base currency: 1 "+Object(s["x"])(C.baseCurrency),1),Object(s["f"])("button",{class:"currencies__button",onClick:t[0]||(t[0]=e=>C.isSelectVisible=!C.isSelectVisible)}," Change "),C.isSelectVisible?(Object(s["q"])(),Object(s["e"])("div",n,[Object(s["f"])("div",l,[b,Object(s["f"])("button",{type:"button",class:"item__btn btn_remove",onClick:t[1]||(t[1]=(...e)=>S.clearFav&&S.clearFav(...e))},"Clear FavList")]),Object(s["f"])("div",u,[(Object(s["q"])(!0),Object(s["e"])(s["a"],null,Object(s["u"])(C.fav_list,(e,t)=>(Object(s["q"])(),Object(s["e"])("div",{class:"currencies__item item",key:t,onClick:t=>S.changeBaseCurrency(e[0])},[Object(s["f"])("span",f,Object(s["x"])(e[0]),1),Object(s["f"])("button",{class:"item__btn",onClick:Object(s["E"])(t=>S.favorite(e[0]),["stop"])},j,8,o)],8,_))),128))]),h,Object(s["f"])("div",v,[(Object(s["q"])(!0),Object(s["e"])(s["a"],null,Object(s["u"])(C.currencies,(e,t,c)=>(Object(s["q"])(),Object(s["e"])("div",{class:"currencies__item item",key:c,onClick:e=>S.changeBaseCurrency(t)},[Object(s["f"])("span",m,Object(s["x"])(t),1),Object(s["f"])("button",{class:"item__btn",onClick:Object(s["E"])(e=>S.favorite(t),["stop"])},g,8,p)],8,d))),128))])])):Object(s["d"])("",!0)]),Object(s["f"])("div",k,[(Object(s["q"])(!0),Object(s["e"])(s["a"],null,Object(s["u"])(C.currencies,(e,t,c)=>(Object(s["q"])(),Object(s["e"])("div",{class:"rates_list__item",key:c},[Object(s["f"])("div",y,Object(s["x"])(t)+": "+Object(s["x"])(e),1)]))),128))])])}var w=c("bc3a"),q=c.n(w),x={name:"home",data(){return{baseCurrency:"USD",currencies:{},fav_list:[],isSelectVisible:!1,access_key:"a08020c238-b5e6ffcdad-r4bntb"}},mounted(){this.getCurrenciesRate(),this.fav_list=null!=localStorage.getItem("fav_cur")?JSON.parse(localStorage.getItem("fav_cur")):[]},watch:{baseCurrency(){this.getCurrenciesRate()}},methods:{favorite(e){if(0!=this.fav_list.length){let t=this.fav_list.findIndex(t=>t[0]===e);if(console.log(t),-1!=t)this.fav_list.splice(t,1);else{let t=Object.keys(this.currencies).map(e=>[e,this.currencies[e]]),c=t.find(t=>t[0]===e);this.fav_list.push(c)}}else{let t=Object.keys(this.currencies).map(e=>[e,this.currencies[e]]),c=t.find(t=>t[0]===e);this.fav_list.push(c)}localStorage.setItem("fav_cur",JSON.stringify(this.fav_list))},clearFav(){this.fav_list.length>0&&(this.fav_list=[],localStorage.setItem("fav_cur",JSON.stringify(this.fav_list)))},changeBaseCurrency(e){this.baseCurrency=e,this.isSelectVisible=!1},getCurrenciesRate(){q.a.get(`https://api.fastforex.io/fetch-all?from=${this.baseCurrency}&api_key=${this.access_key}`).then(e=>{e.data?this.currencies=Object.assign(e.data.results):console.log("error")}).catch(e=>{alert(e)})}}},F=(c("9ef9"),c("6b0d")),I=c.n(F);const J=I()(x,[["render",S]]);t["default"]=J},"9ef9":function(e,t,c){"use strict";c("7e14")}}]);
//# sourceMappingURL=chunk-42e5fec3.8a59257c.js.map